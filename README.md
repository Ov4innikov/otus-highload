# Проект otus-highload

## Локальный запуск прилоижения(social-network-backend):

1. Для запуска нужны JRE 21, mvn и docker.
2. Соберите проект, выполнив команду ```mvn clean package -f social-network-backend/pom.xml```.
3. Запустите локальный postgres командой ```docker run --name basic-postgres --rm -e POSTGRES_USER=postgres -e POSTGRES_PASSWORD=4QeFTrGo2u -e PGDATA=/var/lib/postgresql/data/pgdata -p 5432:5432 -it postgres:14.1-alpine```
4. Запустите приложение, выполнив команду ```java -jar social-network-backend/target/social-network-backend-0.0.1.jar```.

## Описание домашних заданий

### Домашнее задание 1
Заготовка для социальной сети

Цель:
В результате выполнения ДЗ вы создадите базовый скелет социальной сети, который будет развиваться в дальнейших ДЗ.
В данном задании тренируются навыки:

декомпозиции предметной области;
построения элементарной архитектуры проекта

Описание/Пошаговая инструкция выполнения домашнего задания:
Требуется разработать создание и просмотр анкет в социальной сети.

Функциональные требования:

Простейшая авторизация пользователя.
Возможность создания пользователя, где указывается следующая информация:
Имя
Фамилия
Дата рождения
Пол
Интересы
Город
Страницы с анкетой.

Нефункциональные требования:

Любой язык программирования
В качестве базы данных использовать PostgreSQL (при желании и необходимости любую другую SQL БД)
Не использовать ORM
Программа должна представлять из себя монолитное приложение.
Не рекомендуется использовать следующие технологии:
Репликация
Шардирование
Индексы
Кэширование

Для удобства разработки и проверки задания можно воспользоваться этой спецификацией и реализовать в ней методы:
/login
/user/register
/user/get/{id}

Фронт опционален.

Сделать инструкцию по локальному запуску приложения, приложить Postman-коллекцию.

ДЗ принимается в виде исходного кода на github и Postman-коллекции.

Критерии оценки:
Оценка происходит по принципу зачет/незачет.
Требования:
Есть возможность авторизации, регистрации, получение анкет по ID.
Отсутствуют SQL-инъекции.
Пароль хранится безопасно.

### Домашнее задание 2
Производительность индексов

Цель:
В результате выполнения ДЗ вы воспользуетесь/создадите набор тестовых данных для проведения нагрузочного тестирования, подберете наиболее подходящие индексы и проведете тесты производительности.
В данном задании тренируются навыки:

(опционально) генерация тестовых данных;
работа с индексами;
нагрузочное тестирование;

Описание/Пошаговая инструкция выполнения домашнего задания:
Сгенерировать любым способ 1,000,000 анкет. Имена и Фамилии должны быть реальными, чтобы учитывать селективность индекса. Так же можно воспользовать уже готовым списком как основой.
Реализовать функционал поиска анкет по префиксу имени и фамилии (одновременно) в вашей социальной сети (реализовать метод /user/search из спецификации) (запрос в форме firstName LIKE ? and secondName LIKE ?). Сортировать вывод по id анкеты.
Провести нагрузочные тесты этого метода. Поиграть с количеством одновременных запросов. 1/10/100/1000.
Построить графики и сохранить их в отчет
Сделать подходящий индекс.
Повторить пункт 3 и 4.
В качестве результата предоставить отчет в котором должны быть:
графики latency до индекса;
графики throughput до индекса;
графики latency после индекса;
графики throughput после индекса;
запрос добавления индекса;
explain запросов после индекса;
объяснение почему индекс именно такой;

ДЗ принимается в виде отчета по выполненной работе.

Критерии оценки:
Оценка происходит по принципу зачет/незачет.
Требования:

Правильно выбраны индексы.
Нагрузочное тестирование проведено и результаты адекватны.
В случае генерации тестовых данных самостоятельно, убедиться что эти данные "похожи" на настоящие.